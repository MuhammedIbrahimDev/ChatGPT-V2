<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>OpenAI Chat Assistant</title>
  <link rel="stylesheet" href="./CSS/bootstrap.rtl.min.css">
  <script src="./JS/bootstrap.bundle.min.js"></script>

  <link rel="stylesheet" href="./CSS/style.css">
  <script src="./JS/marked.min.js"></script>  
</head>
<body>
  <div class="chat-box d-flex flex-column">
    <div class="chat-header d-flex justify-content-between align-items-center">
  <button class="btn btn-secondary btn-sm" id="newChatInputSection" style="display: none;" data-bs-toggle="modal" data-bs-target="#newChatModal">
    🆕 محادثة جديدة
  </button>
    <div> (المحترف) ChatGPT 🤖</div>

</div>

    <div class="chat-messages" id="chatBox"></div>
    <div class="chat-input" id="inputSection" style="display: none;">
      <div class="mb-2">
        <textarea class="form-control" id="messageInput" rows="2" placeholder="اكتب رسالتك..."></textarea>
      </div>
      <div class="d-flex justify-content-between align-items-center">
        <input type="file" class="form-control form-control-sm w-50" id="imageInput" accept="image/*">
        
        <div>
          <button class="btn btn-primary btn-sm fixed-send-btn" disabled id="sendBtn" onclick="sendMessage()">إرسال</button>
        </div>
        
            
      </div>
    </div>
    <div class="p-3 text-center" id="newChatSection">
      <button class="btn btn-secondary" onclick="createNewThread()">🆕 محادثة جديدة</button>
    </div>
  </div>

  <!-- Modal: تأكيد محادثة جديدة -->
  <div class="modal fade" id="newChatModal" tabindex="-1" aria-labelledby="newChatModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header bg-primary text-white">
          <h5 class="modal-title" id="newChatModalLabel">بدء محادثة جديدة</h5>
        </div>
        <div class="modal-body text-center">
          هل أنت متأكد أنك تريد بدء محادثة جديدة؟ سيتم مسح المحادثة الحالية.
        </div>
        <div class="modal-footer justify-content-center">
          <button type="button" class="btn btn-danger" data-bs-dismiss="modal">لا</button>
          <button type="button" class="btn btn-secondary fs-6"  onclick="startNewChat()">نعم</button>
        </div>
      </div>
    </div>
  </div>


  <script src="./JS/bootstrap.bundle.min.js"></script>
  <script src="./JS/script.js"></script>


</body>
</html>
